(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65632b68"],{"0390":function(e,t,n){"use strict";var i=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},1296:function(e,t,n){},"214f":function(e,t,n){"use strict";n("b0c5");var i=n("2aba"),r=n("32e9"),a=n("79e5"),c=n("be13"),o=n("2b4c"),l=n("520a"),u=o("species"),s=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=o(e),h=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),d=h?!a((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[p](""),!t})):void 0;if(!h||!d||"replace"===e&&!s||"split"===e&&!f){var g=/./[p],v=n(c,p,""[e],(function(e,t,n,i,r){return t.exec===l?h&&!r?{done:!0,value:g.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}})),x=v[0],w=v[1];i(String.prototype,e,x),r(RegExp.prototype,p,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}}},"28a5":function(e,t,n){"use strict";var i=n("aae3"),r=n("cb7c"),a=n("ebd6"),c=n("0390"),o=n("9def"),l=n("5f1b"),u=n("520a"),s=n("79e5"),f=Math.min,p=[].push,h="split",d="length",g="lastIndex",v=4294967295,x=!s((function(){RegExp(v,"y")}));n("214f")("split",2,(function(e,t,n,s){var w;return w="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[d]||2!="ab"[h](/(?:ab)*/)[d]||4!="."[h](/(.?)(.?)/)[d]||"."[h](/()()/)[d]>1||""[h](/.?/)[d]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!i(e))return n.call(r,e,t);var a,c,o,l=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?v:t>>>0,x=new RegExp(e.source,s+"g");while(a=u.call(x,r)){if(c=x[g],c>f&&(l.push(r.slice(f,a.index)),a[d]>1&&a.index<r[d]&&p.apply(l,a.slice(1)),o=a[0][d],f=c,l[d]>=h))break;x[g]===a.index&&x[g]++}return f===r[d]?!o&&x.test("")||l.push(""):l.push(r.slice(f)),l[d]>h?l.slice(0,h):l}:"0"[h](void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,i){var r=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,r,i):w.call(String(r),n,i)},function(e,t){var i=s(w,e,this,t,w!==n);if(i.done)return i.value;var u=r(e),p=String(this),h=a(u,RegExp),d=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(x?"y":"g"),b=new h(x?u:"^(?:"+u.source+")",g),m=void 0===t?v:t>>>0;if(0===m)return[];if(0===p.length)return null===l(b,p)?[p]:[];var y=0,E=0,R=[];while(E<p.length){b.lastIndex=x?E:0;var C,I=l(b,x?p:p.slice(E));if(null===I||(C=f(o(b.lastIndex+(x?0:E)),p.length))===y)E=c(p,E,d);else{if(R.push(p.slice(y,E)),R.length===m)return R;for(var k=1;k<=I.length-1;k++)if(R.push(I[k]),R.length===m)return R;E=y=C}}return R.push(p.slice(y)),R}]}))},4917:function(e,t,n){"use strict";var i=n("cb7c"),r=n("9def"),a=n("0390"),c=n("5f1b");n("214f")("match",1,(function(e,t,n,o){return[function(n){var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=o(n,e,this);if(t.done)return t.value;var l=i(e),u=String(this);if(!l.global)return c(l,u);var s=l.unicode;l.lastIndex=0;var f,p=[],h=0;while(null!==(f=c(l,u))){var d=String(f[0]);p[h]=d,""===d&&(l.lastIndex=a(u,r(l.lastIndex),s)),h++}return 0===h?null:p}]}))},"520a":function(e,t,n){"use strict";var i=n("0bfb"),r=RegExp.prototype.exec,a=String.prototype.replace,c=r,o="lastIndex",l=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e[o]||0!==t[o]}(),u=void 0!==/()??/.exec("")[1],s=l||u;s&&(c=function(e){var t,n,c,s,f=this;return u&&(n=new RegExp("^"+f.source+"$(?!\\s)",i.call(f))),l&&(t=f[o]),c=r.call(f,e),l&&c&&(f[o]=f.global?c.index+c[0].length:t),u&&c&&c.length>1&&a.call(c[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(c[s]=void 0)})),c}),e.exports=c},"5f1b":function(e,t,n){"use strict";var i=n("23c6"),r=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"9a28":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"photo-watermark_wrap"},[t("div",{staticClass:"photo-upload_area",on:{click:e.choosePic}},[t("span",{staticClass:"btn-text"},[e._v("上传图片")]),t("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file",accept:"image/jpg, image/png, image/jpeg"},on:{change:e.fileChange}})]),t("div",{staticClass:"preview_area"},[t("p",{staticClass:"title"},[e._v("图片预览")]),t("img",{staticClass:"preview-pic",attrs:{src:e.previewUrl,alt:""}})])])},r=[],a=(n("34ef"),n("4917"),n("28a5"),{name:"PhotoWithWaterMark",data:function(){return{file:"",previewUrl:""}},methods:{choosePic:function(){this.$refs.fileInput.click()},fileChange:function(e){var t=e.target.files;this.fileToBase64(t[0]),this.$refs.fileInput.value=""},fileToBase64:function(e){var t=this,n=new FileReader;n.onload=function(){var e=n.result;t.addWaterMark(e).then((function(e){var n=t.base64ToFile(e);t.uploadFile(n)}))},n.readAsDataURL(e)},addWaterMark:function(e){var t=this,n=document.createElement("canvas"),i=n.getContext("2d"),r=new Image,a=800;return r.crossOrigin="Anonymous",new Promise((function(c){r.onload=function(){r.height>a&&(r.width*=a/r.height,r.height=a),r.width>a&&(r.height*=a/r.width,r.width=a),n.height=r.height,n.width=r.width,i.drawImage(r,0,0,r.width,r.height),i.font="30px Arial",i.fillStyle="tomato";var e=t.getCurTime();i.textAlign="end";for(var o="".concat(e),l=30,u=o.split("\n"),s=0;s<u.length;s++)i.fillText(u[s],r.width-20,r.height-(s+1)*l);i.textBaseline="middle";var f=n.toDataURL("image/png/jpg");t.previewUrl=f,c(f)},r.src=e}))},base64ToFile:function(e){var t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]),r=i.length,a=new Uint8Array(r);while(r--)a[r]=i.charCodeAt(r);var c=(new Date).getTime(),o=new File([a],c,{type:n});return o},uploadFile:function(e){var t=new FormData;t.append("file",e),t.append("fileName",(new Date).getTime()),this.$http.post("http://10.1.7.43:8866",t).then((function(e){console.log(e)}))},getCurTime:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),r=e.getHours(),a=e.getMinutes(),c=e.getSeconds(),o=function(e){return e<10?"0".concat(e):e};return"".concat(t,"-").concat(o(n),"-").concat(o(i)," ").concat(o(r),":").concat(o(a),":").concat(o(c))}}}),c=a,o=(n("e787"),n("2877")),l=Object(o["a"])(c,i,r,!1,null,"0a0275d8",null);t["default"]=l.exports},aae3:function(e,t,n){var i=n("d3f4"),r=n("2d95"),a=n("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},b0c5:function(e,t,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},e787:function(e,t,n){"use strict";n("1296")}}]);