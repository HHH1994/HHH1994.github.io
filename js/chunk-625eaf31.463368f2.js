(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-625eaf31"],{"11e9":function(e,t,n){var c=n("52a7"),o=n("4630"),a=n("6821"),s=n("6a99"),r=n("69a8"),i=n("c69a"),l=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?l:function(e,t){if(e=a(e),t=s(t,!0),i)try{return l(e,t)}catch(n){}if(r(e,t))return o(!c.f.call(e,t),e[t])}},"5dbc":function(e,t,n){var c=n("d3f4"),o=n("8b97").set;e.exports=function(e,t,n){var a,s=t.constructor;return s!==n&&"function"==typeof s&&(a=s.prototype)!==n.prototype&&c(a)&&o&&o(e,a),e}},"8b97":function(e,t,n){var c=n("d3f4"),o=n("cb7c"),a=function(e,t){if(o(e),!c(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,c){try{c=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),c(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:c(e,n),e}}({},!1):void 0),check:a}},9093:function(e,t,n){var c=n("ce10"),o=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return c(e,o)}},aa77:function(e,t,n){var c=n("5ca1"),o=n("be13"),a=n("79e5"),s=n("fdef"),r="["+s+"]",i="​",l=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),f=function(e,t,n){var o={},r=a((function(){return!!s[e]()||i[e]()!=i})),l=o[e]=r?t(p):s[e];n&&(o[n]=l),c(c.P+c.F*r,"String",o)},p=f.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},ae17:function(e,t,n){"use strict";n.r(t);var c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("p",{staticStyle:{"margin-bottom":"20px"}},[e._v("Websocket示例")]),t("section",{staticClass:"service"},[t("HInput",{staticStyle:{width:"500px","margin-right":"10px"},attrs:{placeholder:"请输入websocket的服务连接地址"},model:{value:e.socketConf.path,callback:function(t){e.$set(e.socketConf,"path",t)},expression:"socketConf.path"}}),t("span",{staticClass:"h-btn",on:{click:e.connectHandle}},[e._v("连接")]),t("span",{staticClass:"h-btn",on:{click:e.disconnect}},[e._v("断开")])],1),t("div",{staticStyle:{"margin-bottom":"10px"}},[e.socket.instance&&e.retryTime&&e.retryTime<e.maxReconnectTime+1?t("p",[e._v("正在重新连接中，第"+e._s(e.retryTime)+"次尝试")]):e._e(),e.socket.instance&&e.retryTime&&e.retryTime>=e.maxReconnectTime+1?t("p",[e._v("重新连接失败，请手动连接")]):e._e()]),t("section",{staticClass:"content"},[t("div",{staticClass:"content-lf"},[t("div",{staticClass:"form-item"},[t("label",[e._v("header")]),t("HInput",{attrs:{placeholder:"请输入websocket的头部信息"},model:{value:e.socketConf.header,callback:function(t){e.$set(e.socketConf,"header",t)},expression:"socketConf.header"}})],1),t("div",{staticClass:"form-item"},[t("label",[e._v("message")]),t("HInput",{attrs:{placeholder:"请输入websocket的信息"},model:{value:e.socketConf.message,callback:function(t){e.$set(e.socketConf,"message",t)},expression:"socketConf.message"}}),t("span",{staticClass:"h-btn",staticStyle:{"margin-left":"10px","vertical-align":"middle"},on:{click:e.send}},[e._v("发送")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.isClear,expression:"isClear"}],staticStyle:{"vertical-align":"middle","margin-right":"5px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isClear)?e._i(e.isClear,null)>-1:e.isClear},on:{change:function(t){var n=e.isClear,c=t.target,o=!!c.checked;if(Array.isArray(n)){var a=null,s=e._i(n,a);c.checked?s<0&&(e.isClear=n.concat([a])):s>-1&&(e.isClear=n.slice(0,s).concat(n.slice(s+1)))}else e.isClear=o}}}),t("span",[e._v("发送后是否清空")])],1),t("div",{staticClass:"form-item"},[t("label",[e._v("最大重连次数")]),t("HInput",{attrs:{placeholder:"请输入最大重连次数"},on:{change:function(t){e.retryTime=0}},model:{value:e.socketConf.maxTime,callback:function(t){e.$set(e.socketConf,"maxTime",t)},expression:"socketConf.maxTime"}})],1)]),t("div",{staticClass:"content-rg"},e._l(e.logs,(function(n,c){return t("p",{key:c,staticClass:"log"},[e._v("\n          "+e._s(c+1)+":"+e._s(n)+"\n      ")])})),0)])])},o=[],a=n("d13a"),s=function(){var e=new Date;return"".concat(e.toLocaleDateString()," ").concat(e.toLocaleTimeString())},r={components:{HInput:a["a"]},data:function(){return{socketConf:{path:"",header:"",message:"",maxTime:""},logs:[],socket:{isConnected:!1,instance:null},retryTime:0,isClear:!1}},computed:{maxReconnectTime:function(){return+this.socketConf.maxTime||5}},methods:{connectHandle:function(){this.retryTime=0,this.connect()},connect:function(){var e=this;if(!(this.socket.isConnected||this.socket.instance&&this.socket.instance.readyState<2))if(this.logs=[],this.socketConf.path)try{var t=this.socket.instance=new WebSocket(this.socketConf.path,[this.socketConf.header||void 0]);console.log("this.socket.instance",this.socket.instance),t.onopen=function(){e.logs.push("服务连接成功  ".concat(s())),e.socket.isConnected=!0,e.retryTime=0},t.onerror=function(t){console.log(t),e.logs.push("发生异常  ".concat(s()))},t.onmessage=function(t){var n=t.data;e.logs.push("接收: ".concat(n,"  ").concat(s()))},t.onclose=function(){e.socket.isConnected=!1,e.logs.push("服务已断开连接  ".concat(s())),e.socket.instance&&e.retryTime<e.maxReconnectTime?e.reconnect():e.retryTime++}}catch(n){console.log("err occur")}else alert("请先填写服务连接")},reconnect:function(){this.retryTime++,this.connect()},disconnect:function(){this.socket.isConnected&&(this.socket.instance.close(),this.socket.instance=null)},send:function(){this.socket.isConnected?(this.logs.push("发送: ".concat(this.socketConf.message,"  ").concat(s())),this.isClear&&(this.socketConf.message=""),this.socket.instance.send(this.socketConf.message)):alert("请先连接服务")}}},i=r,l=(n("d2ab"),n("2877")),u=Object(l["a"])(i,c,o,!1,null,"71d347ec",null);t["default"]=u.exports},af18:function(e,t,n){},c5f6:function(e,t,n){"use strict";var c=n("7726"),o=n("69a8"),a=n("2d95"),s=n("5dbc"),r=n("6a99"),i=n("79e5"),l=n("9093").f,u=n("11e9").f,f=n("86cc").f,p=n("aa77").trim,h="Number",d=c[h],m=d,v=d.prototype,g=a(n("2aeb")(v))==h,k="trim"in String.prototype,C=function(e){var t=r(e,!1);if("string"==typeof t&&t.length>2){t=k?t.trim():p(t,3);var n,c,o,a=t.charCodeAt(0);if(43===a||45===a){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:c=2,o=49;break;case 79:case 111:c=8,o=55;break;default:return+t}for(var s,i=t.slice(2),l=0,u=i.length;l<u;l++)if(s=i.charCodeAt(l),s<48||s>o)return NaN;return parseInt(i,c)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(g?i((function(){v.valueOf.call(n)})):a(n)!=h)?s(new m(C(t)),n,d):C(t)};for(var y,_=n("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;_.length>b;b++)o(m,y=_[b])&&!o(d,y)&&f(d,y,u(m,y));d.prototype=v,v.constructor=d,n("2aba")(c,h,d)}},d13a:function(e,t,n){"use strict";var c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-wrapper"},["textarea"!==e.type?t("input",{attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.change}}):e._e(),"textarea"===e.type?t("textarea",{staticClass:"h-textarea",attrs:{placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.change}}):e._e()])},o=[],a=(n("c5f6"),{name:"Input",model:{prop:"value",event:"change"},props:{type:{type:String,default:"text"},value:[String,Number],placeholder:{type:String,default:"请输入内容"}},data:function(){return{}},methods:{change:function(e){this.$emit("change",e.target.value)},parseType:function(e){}},created:function(){}}),s=a,r=(n("f233"),n("2877")),i=Object(r["a"])(s,c,o,!1,null,"6c9c7201",null);t["a"]=i.exports},d2ab:function(e,t,n){"use strict";n("af18")},dbcf:function(e,t,n){},f233:function(e,t,n){"use strict";n("dbcf")},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);