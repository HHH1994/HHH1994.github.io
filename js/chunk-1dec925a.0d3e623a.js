(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dec925a"],{"2d3f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"e-map_wrapper"},[e("div",{staticClass:"city-list"},[t._v("\n    地区：\n    "),t._l(t.cityList,(function(a){return e("span",{key:a,on:{click:function(){return t.setHighlight(a)}}},[t._v(t._s(a))])}))],2),e("div",{staticClass:"mode"},[t._v("\n    模式：\n    "),e("span",{staticClass:"btn",class:{active:"1"===t.mode},on:{click:function(e){return t.changeMode("1")}}},[t._v("下钻")]),e("span",{staticClass:"btn",class:{active:"2"===t.mode},on:{click:function(e){return t.changeMode("2")}}},[t._v("定位")])]),e("div",{attrs:{id:"map"}}),e("div",{staticClass:"area-text",style:t.areaTextStyle},[e("p",{staticClass:"zh"},[t._v(t._s(t.areaText))])])])},n=[],r=(a("7f7f"),a("ac6a"),{data:function(){return{areaText:"",areaTextStyle:{},cityList:["丽水市","台州市","嘉兴市","宁波市","杭州市","温州市","湖州市","绍兴市","舟山市","衢州市","金华市"],centerMap:{},mapChart:null,mode:"1",level:1}},mounted:function(){this.initMap()},methods:{changeMode:function(t){this.mode=t,this.initMap(),this.level=1},loadGeoData:function(){var t=this;this.cityList.forEach((function(e){t.$http("/static/map/".concat(e,".json")).then((function(t){echarts.registerMap(e,t)}))}))},initMap:function(){var t=this,e=document.querySelector("#map");this.$http.get("/static/map/浙江省.json").then((function(a){echarts.registerMap("浙江省",a);var i=[];a.features.forEach((function(e){t.centerMap[e.properties.name]=e.properties.centroid,i.push({name:e.properties.name,value:Math.round(1e3*Math.random()),cityCode:e.properties.adcode})})),t.mapChart=echarts.init(e),t.drawChart({city:"浙江省",data:i}),t.setHighlight("杭州市")}))},drawChart:function(t){var e=this,a={tooltip:{triggerOn:"none"},geo:{map:t.city,roam:!1,label:{normal:{show:!1},emphasis:{show:!0,textStyle:{color:"#fff",fontWeight:600,fontSize:16}}},itemStyle:{normal:{borderWidth:2,areaColor:"rgba(20,231,255, 0.55)",borderColor:"rgba(20,231,255, 1)"},emphasis:{borderWidth:2,areaColor:"rgba(20,231,255, 1)",borderColor:"rgba(20,231,255, 1)"}},regions:[],zoom:1.1,aspectScale:1.9},series:[{type:"map",select:{itemStyle:{borderWidth:.5,areaColor:"rgba(20,231,255, 1)",borderColor:"transparent"}},geoIndex:0,data:t.data||[],markPoint:{symbol:"image://".concat(window.location.origin,"/static/images/marker.png"),symbolSize:47,data:[]},tooltip:{padding:0,hideDelay:100,enterable:!0,formatter:function(t){var e=t.data;return'\n                <div class="panel">\n                  <p class="title">'.concat(t.name,'</p>\n                  <p class="item">\n                   <span class="value">').concat(e.value,'/</span>\n                    <span class="value">').concat(e.value,"</span>\n                  </p>\n                </div>\n                ")}}}]};this.mapChart.setOption(a),this.mapChart.on("click",(function(t){"2"===e.mode||e.level>=2?e.setHighlight(t.name):(e.level++,e.$http("/static/map/".concat(t.name,".json")).then((function(a){echarts.registerMap(t.name,a);var i=[],n="";a.features.forEach((function(t,a){0===a&&(n=t.properties.name),e.centerMap[t.properties.name]=t.properties.centroid,i.push({name:t.properties.name,value:Math.round(1e3*Math.random()),cityCode:t.properties.adcode})})),e.drawChart({city:t.name,data:i}),e.setHighlight(n)})))}))},setHighlight:function(t){var e=this.centerMap[t],a=this.mapChart.getOption();this.setMarker(e,t,a),this.setLabelColor(a,t),this.mapChart.setOption(a),this.mapChart.dispatchAction({type:"highlight",geoIndex:0,name:t}),this.mapChart.dispatchAction({type:"hideTip"}),this.mapChart.dispatchAction({type:"showTip",seriesIndex:0,name:t,position:"top"})},setLabelColor:function(t,e){return t.geo[0].regions=[{name:e,label:{normal:{show:!1},emphasis:{show:!1}}}],t},setMarker:function(t,e,a){var i=this.mapChart.convertToPixel("geo",t);return this.areaText=e,this.areaTextStyle={left:"".concat(i[0],"px"),top:"".concat(i[1],"px")},a.series[0].markPoint.data=[{coord:t}],a}}}),s=r,o=(a("5394"),a("2877")),c=Object(o["a"])(s,i,n,!1,null,"604efc6e",null);e["default"]=c.exports},5394:function(t,e,a){"use strict";a("a3c6")},a3c6:function(t,e,a){},ac6a:function(t,e,a){for(var i=a("cadf"),n=a("0d58"),r=a("2aba"),s=a("7726"),o=a("32e9"),c=a("84f2"),l=a("2b4c"),p=l("iterator"),h=l("toStringTag"),d=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},u=n(m),f=0;f<u.length;f++){var g,v=u[f],C=m[v],y=s[v],L=y&&y.prototype;if(L&&(L[p]||o(L,p,d),L[h]||o(L,h,v),c[v]=d,C))for(g in i)L[g]||r(L,g,i[g],!0)}}}]);